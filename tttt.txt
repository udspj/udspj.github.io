import flash.geom.*
var nodes:Array = [],cvm:Matrix3D = new Matrix3D(Vector.<Number>([1,0,0,0,0,1,0,0,0,0,1,0,0,0,500,1])),vm:Matrix3D = new Matrix3D(),p:PerspectiveProjection = new PerspectiveProjection(),pm:Matrix3D = p.toMatrix3D(),tasks:Array = [{childs:[]}];
x =y= 258;
addEventListener(Event.ENTER_FRAME, function(e:*):void {
        var vm:Matrix3D = new Matrix3D(Vector.<Number>([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 150, 0, 1]));
        vm.appendRotation( -mouseY / 3, Vector3D.X_AXIS);
        vm.appendRotation(mouseX/3, Vector3D.Y_AXIS);
        vm.append(cvm);
        graphics.clear();
        for each(var node:Object in nodes) node.v2d = Utils3D.projectVector(pm, vm.transformVector(node.v3d));
        for each(node in nodes) { if (node.parent) { graphics.lineStyle(node.strong / 5 * node.v2d.z, 0);
                graphics.moveTo(node.parent.v2d.x, node.parent.v2d.y);
                graphics.lineTo(node.v2d.x, node.v2d.y);}}
        for (var i:int = tasks.length - 1,c:int=5; i >= 0&&c>=0;i-- ,c--) {
                node = tasks.splice(i, 1)[0];
                if (node.parent) {node.strong = node.parent.strong * 0.7;
                        node.m = new Matrix3D(Vector.<Number>([1,0,0,0,0,1,0,0,0,0,1,0,0,-node.strong*3,0,1]));
                        node.m.appendRotation(55 * Math.random(), Vector3D.Z_AXIS);
                        node.m.appendRotation(360 * Math.random(), Vector3D.Y_AXIS);
                        node.wm = new Matrix3D(node.m.rawData);
                        node.wm.append(node.parent.wm);
                }else { node.m = node.wm = new Matrix3D();
                node.strong = 60;}
                node.v3d = new Vector3D();
                node.v3d = node.wm.transformVector(node.v3d);
                nodes.push(node);
                if (node.strong > 7)  for (var num:int = node.strong / 7; num >= 0;num-- )tasks.push( { childs:[], parent:node } );}});
stage.addEventListener("click", function():void { nodes = []; tasks = [{childs:[]}]; } );




---------------------------------------



import flash.display.*;
import flash.events.Event;
import flash.utils.getTimer;
var data:String='A2E0E1FB138E164FC119E160E98E165FC120E155E138E164FB156E166FC166E162E174E164FD174E161FC164E160E156E166FA2E0E1FB133E178FC116E166E104E183FB132E181FC116E169E104E184FB132E184FC117E170E104E184FB128E193FC119E197E109E193FB126E179FC130E191E121E195FB117E195FC106E184E116E175FA0E0E1FB115E179FC118E180E118E183FC116E185E113E183FC114E190E119E191FC125E190E125E185FC124E177E115E179FA2E0E1FB151E185FC151E177E160E173FC168E171E173E176FB154E180FC162E170E171E178FB163E174FC170E175E170E182FB155E192FC163E195E167E191FB160E175FC153E181E155E189FC157E192E161E192FC171E188E163E176FA0E0E1FB160E180FC162E182E161E183FC159E184E158E182FC156E187E160E189FC164E189E164E185FC164E180E160E180FA2E0E1FB148E185FC147E195E153E203FC147E207E147E209FB130E219FD152E218FA3E0E0.4FB133E225FD143E225FB130E219FC141E228E152E218FA1E0E1FB174E145FC176E157E175E172FC173E181E172E186FD169E212FC169E217E164E224FD148E242FC144E246E135E246FC112E242E96E230FB71E168FC68E164E63E164FC58E164E55E172FC56E191E68E204FD74E206FA1E0E0.6FB70E174FC67E170E63E169FC54E174E62E185FC68E200E72E192FB71E180FC71E177E68E177FC65E177E65E180FC66E185E64E189FC70E200E72E189FC67E184E71E181FA1E0E0.6FB47E151FC55E93E113E85FD115E87FD116E85FC170E92E195E130FC207E158E194E164FC207E152E185E123FC203E150E189E169FC193E150E186E138FC197E169E179E179FC190E174E184E145FB176E127FC190E165E178E174FC184E159E178E137FC182E156E173E169FC179E155E175E139FB171E123FC181E153E164E167FC176E146E168E127FC175E149E159E160FC171E141E166E129FB161E113FC175E141E144E164FC161E151E161E128FB158E127FC159E151E143E164FC157E147E155E119FC152E144E120E157FC157E136E152E106FB150E115FC146E139E130E150FC140E140E147E117FC132E149E113E153FB145E121FC139E132E126E141FC116E154E97E160FB118E141FC103E156E98E156FB118E141FC105E149E98E155FC87E162E70E163FB101E156FC94E163E72E163FB71E164FC72E222E105E318FB74E164FC74E185E78E205FB77E164FC75E194E88E241FB80E165FC90E245E101E292FB72E187FC73E225E80E250FB82E165FC82E210E103E259FB85E164FD84E193FB90E162FD85E171FB95E162FD84E177FB172E183FC180E247E187E263FC200E294E195E334FB171E200FC174E230E182E258FB171E212FC170E226E183E274FC196E314E190E331FB168E219FC168E234E176E263FB165E224FD168E242FB163E227FC161E251E184E296FB166E240FC170E253E171E268FB173E261FC175E272E180E281FC188E295E189E330FA2E0E1FB68E165FD75E154FC68E155E62E150FC60E150E55E154FD50E155FD46E163FC49E163E50E161FC55E162E57E166FC62E162E68E165FB47E159FD58E159FC58E156E55E157FB44E154FD39E148FD18E153FC20E160E14E167FD30E161FC38E164E43E163FC40E156E44E154FB42E157FD36E159FD30E157FB44E154FC50E150E52E153FB44E164FC38E167E32E166FD22E170FD14E170FD4E177FC15E179E13E191FC22E173E43E166FC53E182E41E203FC53E195E62E209FD61E196FB57E168FC50E169E48E163FA1E0E1FB31E171FC13E201E21E210FB37E168FC15E204E24E214FB31E187FC20E213E31E218FB35E195FC27E225E37E224FB34E206FC35E224E40E222FB44E167FC33E221E44E225FB41E209FC42E228E52E228FB47E199FC43E228E57E227FB49E199FC50E226E60E228FC71E227E66E202FB64E200FC62E244E54E201FC61E240E60E204FA2E0E1FB189E169FC192E166E195E169FC199E174E206E176FC196E181E196E191FC190E178E181E179FC188E182E188E186FC189E189E194E188FB187E173FD193E175FB197E184FD208E189FD204E193FC199E190E189E205FC188E192E184E190FC182E189E182E183FC179E182E180E179FA1E0E1FB198E193FC207E207E193E216FB194E203FC195E215E188E221FB189E204FC192E214E186E225FC183E227E178E224FB180E181FC178E186E181E191FC187E210E182E224FB177E181FC176E189E180E198FC186E213E179E223FB181E202FC181E219E177E218FB176E182FC178E199E174E205FA2E0E1FB80E248FC74E248E79E253FD79E259FD85E265FB103E293FC113E319E123E335FB76E249FC76E259E70E263FC84E271E90E283FB106E318FD112E336FB69E263FC29E284E29E295FC18E331E16E372FC33E377E55E374FC56E369E68E369FC73E375E65E377FB47E292FC56E312E69E329FC63E334E63E340FB57E312FC60E339E69E356FD67E358FB65E353FD69E370FA1E0E1FB18E363FC40E367E48E365FC55E359E66E360FB19E374FC18E387E20E400FB64E370FC65E388E67E400FB83E255FC83E260E80E261FB137E248FC137E259E139E269FB138E263FC142E267E148E268FA2E0E100FB138E254FC156E263E157E310FC161E327E162E335FB141E258FC156E270E173E273FB159E269FC168E289E166E314FC167E328E169E336FB193E287FD202E298FC208E336E222E365FD215E373FD213E374FD195E371FB186E307FC181E333E185E337FD186E342FB63E344FC72E338E84E337FC103E338E140E335FC170E335E190E347FD187E353FB183E346FC205E368E185E396FA1E0E1FB213E373FD213E400FB136E329FC136E331E139E335FA2E0E0.2FB131E324FC132E325E136E329FB139E324FC138E325E136E329FA4E0E0.1FB131E284FC141E280E151E282FB119E284FC109E280E100E284FB123E280FC126E282E128E279FA7E0E0.1FB79E343FC90E339E101E341FD155E341FC167E339E184E349FB72E396FC128E389E180E397FA2E0E0.2FB132E93FC144E95E152E105';
stage.align=StageAlign.TOP_LEFT;
stage.scaleMode=StageScaleMode.NO_SCALE;        
var girl:Shape =addChild(new Shape()) as Shape;
this.addEventListener(Event.ENTER_FRAME, function(evt:*):void{
        var bool:Boolean = int(getTimer()/1000)%6>2;
        girl.graphics.clear();
        var z:*={A: girl.graphics.lineStyle, B: girl.graphics.moveTo, C: girl.graphics.curveTo, D: girl.graphics.lineTo};
        var a:int =0;
        for each (var g:String in data.split('F')){
                ++a;
                if( bool && (a >=14 && a<=28 || a>=54 && a<=58) )
                        continue;
                if( !bool && (a >=59 && a<=60))
                        continue;
                z[g.charAt(0)].apply(girl, g.substr(1).split('E'));
        }
});




-------------------------------



var i:int=0,frameW:int=8,frameH:int=15,lines_commands:Vector.<int> = new Vector.<int>(),lines_data:Vector.<Number> = new Vector.<Number>(),selectFrame:Array=[[9,1],[9,2],[9,3],[9,5],[10,1],[10,3],[10,5],[11,1],[11,3],[11,5],[12,1],[12,3],[12,5],[13,1],[13,2],[13,3],[13,4],[13,5],[15,1],[15,2],[15,3],[15,4],[15,5],[16,1],[16,3],[17,1],[17,3],[17,4],[18,1],[18,3],[18,5],[19,1],[19,2],[19,3],[19,5],[21,1],[21,5],[22,1],[22,2],[22,3],[22,4],[22,5],[23,1],[23,5],[25,4],[25,5],[26,3],[26,4],[27,2],[27,4],[28,1],[28,4],[29,2],[29,4],[30,3],[30,4],[31,4],[31,5],[33,5],[35,2],[35,3],[35,4],[36,1],[36,5],[37,1],[37,5],[38,1],[38,5],[39,1],[39,5],[41,2],[41,3],[41,4],[42,1],[42,5],[43,1],[43,5],[44,1],[44,5],[45,2],[45,3],[45,4],[47,1],[47,2],[47,3],[47,4],[47,5],[48,2],[49,3],[49,4],[49,5],[50,2],[51,1],[51,2],[51,3],[51,4],[51,5]];
var frameShape:Shape=new Shape();
addChild(frameShape);
frameShape.graphics.beginFill(0xdddddd);
for (i=0; i<20; i++) {
        frameShape.graphics.drawRect(((i+1)*5-1)*frameW+1,0,7,7*frameH);
}
frameShape.graphics.beginFill(0x316ACF);
for (i=0; i<selectFrame.length; i++) {
        frameShape.graphics.drawRect(selectFrame[i][0]*frameW,selectFrame[i][1]*frameH,8,frameH);
}
frameShape.graphics.lineStyle(0.1,0x000000,0.8);
frameShape.graphics.beginFill(0xffffff);
for (i=0; i<7; i++) {
        frameShape.graphics.drawCircle(4,(i+1)*15-4,2);
}
frameShape.graphics.lineStyle(1,0xcccccc);
lines_commands.push(1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2);
lines_data.push(0,0,550,0,0,15,550,15,0,30,550,30,0,45,550,45,0,60,550,60,0,75,550,75,0,90,550,90,0,105,550,105,0,0,0,105,8,0,8,105,16,0,16,105,24,0,24,105,32,0,32,105,40,0,40,105,48,0,48,105,56,0,56,105,64,0,64,105,72,0,72,105,80,0,80,105,88,0,88,105,96,0,96,105,104,0,104,105,112,0,112,105,120,0,120,105,128,0,128,105,136,0,136,105,144,0,144,105,152,0,152,105,160,0,160,105,168,0,168,105,176,0,176,105,184,0,184,105,192,0,192,105,200,0,200,105,208,0,208,105,216,0,216,105,224,0,224,105,232,0,232,105,240,0,240,105,248,0,248,105,256,0,256,105,264,0,264,105,272,0,272,105,280,0,280,105,288,0,288,105,296,0,296,105,304,0,304,105,312,0,312,105,320,0,320,105,328,0,328,105,336,0,336,105,344,0,344,105,352,0,352,105,360,0,360,105,368,0,368,105,376,0,376,105,384,0,384,105,392,0,392,105,400,0,400,105,408,0,408,105,416,0,416,105,424,0,424,105,432,0,432,105,440,0,440,105,448,0,448,105,456,0,456,105,464,0,464,105,472,0,472,105,480,0,480,105,488,0,488,105,496,0,496,105,504,0,504,105,512,0,512,105,520,0,520,105,528,0,528,105,536,0,536,105,544,0,544,105,552,0,552,105,560,0,560,105,568,0,568,105,576,0,576,105,584,0,584,105,592,0,592,105);
frameShape.graphics.drawPath(lines_commands,lines_data);
frameShape.graphics.lineStyle(1,0xff0000);
frameShape.graphics.moveTo(4,0);
frameShape.graphics.lineTo(4,230);
var infoText:TextField=new TextField();
infoText.width=350;
addChild(infoText);
infoText.x=70;
infoText.y=110;
infoText.text="To ASer:\n\t\t\t还记得 曾经你在时间轴上拖拉动画的日子吗 ?\n\t\t\t还记得 当你做的动画被人赞许时的那份喜悦吗 ?\n\t\t\t你是不是激动不已  当AS2离去 AS3来临 。..\n\t\t\t你是不是无比自豪  当AS3称霸了整个页游界。..\n\t\t\t感谢Flash让我们拥有了这一切 它是你我生命里的关键帧。\n\t\t\t更感x天地o了我@ 舞台 。它是我们展现的天堂。";